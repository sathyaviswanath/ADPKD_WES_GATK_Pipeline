# Storage Limitations in Codespaces
GitHub Codespaces has limited disk space, and running the full ADPKD WES pipeline (raw FASTQs, multiple BAMs, and whole‑genome references) can quickly exhaust available storage. This pipeline was adapted to stay within the quota by pruning intermediate files and restricting the reference genome to only required chromosomes.

## Symptoms

- Errors such as “No space left on device” during alignment, BAM processing, or variant calling.

- Containerized GATK commands failing when writing large BAM or VCF outputs.

## Strategies Used

### 1. Restricting the Reference Genome

- Instead of downloading the entire GRCh38 reference, only chromosome 4 and chromosome 16 FASTA files were retrieved and concatenated into a combined chr4_chr16.fa.

- This significantly reduced disk usage for reference data and associated index files while still covering PKD1/PKD2 regions needed for ADPKD analysis.

- Deleting Raw FASTQs After Trimming

- After running FastP and post‑trim FastQC, the original raw FASTQ files were removed.

- Only the trimmed FASTQs and their FastQC/FastP HTML and JSON reports were retained for downstream steps and QC documentation.

### 2. Removing Intermediate Alignment Files

- After converting the alignment SAM file to a duplicate‑marked BAM, the large SAM file was deleted.

- After generating the BQSR‑corrected BAM and calling variants, earlier BAMs were removed, keeping only the final BQSR BAM if needed or, in the final cleanup, only the VCF outputs.

### 3. Keeping Only Final Outputs

- At the end of the run, only the following were kept to minimize storage usage:

- Final VCF files (raw, filtered, and analysis‑ready SNP VCFs as required).

- FastQC and FastP HTML reports for QC records.

- ANNOVAR .avinput file and the humandb annotation databases for variant annotation.

## Recommendations

- Removing raw FASTQs, intermediate BAMs, and full‑genome references prevents re‑running certain steps (e.g., re‑alignment, re‑BQSR, or expanding to other chromosomes) without re‑downloading data or references.

For long‑term or production analyses, consider:

- Running on a local (Linux) or cloud environment with more storage.

- Archiving raw FASTQs, key BAMs (at least the BQSR BAM), and the full reference to external storage before deleting them locally.